!function(a){a.fn.touchMenuHover=function(b){var c,d,e=a.extend({childTag:"ul",closeElement:"",forceiOS:!1,openClass:"tmh-open"},b),f=a(this).find("a"),g="3ds|android|bada|bb10|hpwos|iemobile|kindle fire|opera mini|opera mobi|opera tablet|rim|silk|wiiu",h="html";return("ul"!==e.childTag.toString().toLowerCase()||e.forceiOS)&&(g+="|ipad|ipod|iphone"),c=new RegExp(g,"gi"),f.length>0&&c.test(navigator.userAgent)&&(f.each(function(){var b=a(this),c=b.parent("li"),d=c.siblings().find("a");b.next(e.childTag).length>0&&c.attr("aria-haspopup",!0),b.click(function(b){var c=a(this);b.stopPropagation(),d.removeClass(e.openClass),!c.hasClass(e.openClass)&&c.nextAll(e.childTag).length>0&&(b.preventDefault(),c.addClass(e.openClass))})}),e.closeElement.length>1&&(h+=","+e.closeElement),d=a(h),"ontouchstart"in window&&d.css("cursor","pointer"),d.click(function(){f.removeClass(e.openClass)})),this}}(jQuery);